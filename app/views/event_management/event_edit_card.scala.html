@import model.event.Event
@import helper._
@import forms.CreateEventForm
@(event: Event)(implicit messages: Messages)
@import helpers.PlainHelper.myFields
@createEventForm = @{
    CreateEventForm.createEventForm
}
<div class="event-edit-card-container">
    <div class="mdc-card font_style-edit-card">

        <section class="mdc-card__primary mdc-theme--primary-light-bg">
            <h1 class="mdc-card__title mdc-card__title--large font_style-edit-card_card-title-text">@event.title</h1>
            <h2 class="mdc-card__subtitle"></h2>
        </section>

        <nav id="dynamic-tab-bar" class="mdc-tab-bar mdc-tab-bar--indicator-accent" role="tablist">
            <a class="mdc-tab mdc-tab--active font_style-edit-card_tab " href="#panel-1">基本項目*</a>
            <a class="mdc-tab font_style-edit-card_tab" href="#panel-2">開催時間・場所*</a>
            <a class="mdc-tab font_style-edit-card_tab" href="#panel-3">画像</a>
            <span class="mdc-tab-bar__indicator"></span>
        </nav>

        <section class="mdc-card__supporting-text">

        @helper.form(action = routes.EventController.updateEvent(), 'id -> "updateForm") {

            <div class="panels">
                <div class="panel active" id="panel-1" role="tabpanel" aria-hidden="false">
                        <!-- Title -->
                    <div class="title-textfield-container">
                        <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                            @input(createEventForm("title")) { (id, name, value, args) =>
                                <input type="text" id="title-text-field" class="mdc-text-field__input font_style-edit-card_title-textfield" value="@event.title" name="@name">
                            }
                            <label class="mdc-text-field__label font_style-edit-card_title-textfield" id="title-text-field-label" for="title-text-field" value="@event.title">
                                Title*</label>
                            <div class="mdc-text-field__bottom-line"></div>
                        </div>
                    </div>

                        <!-- Summary -->
                    <div class="sub-textfield-container">
                        <div class="mdc-text-field mdc-text-field--textarea" data-mdc-auto-init="MDCTextField">
                            <textarea type="text" id="subscription-text-field" class="mdc-text-field__input font_style-edit-card_summary-textfield"
                            rows="2"></textarea>
                            <label class="mdc-text-field__label font_style-edit-card_basic-textfield" for="subscription-text-field">
                                Summary</label>
                        </div>
                    </div>

                        <!-- Detail -->
                    <div class="detail-textfield-container">
                        <div class="mdc-text-field mdc-text-field--textarea" data-mdc-auto-init="MDCTextField">
                            @input(createEventForm("body")) { (id, name, value, args) =>
                                <textarea type="text" id="detail-text-field" class="mdc-text-field__input font_style-edit-card_basic-textfield" name="@name"
                                rows="8" >@event.body.body.getOrElse("")</textarea>
                            }
                            <label class="mdc-text-field__label font_style-edit-card_Detail-textfield" for="detail-text-field">
                                Detail*(1000)</label>
                        </div>
                    </div>
                        <!-- URL -->
                    <div class="url-textfield-container">
                        <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                            @input(createEventForm("url")) { (id, name, value, args) =>
                                <input type="text" id="url-text-field" class="mdc-text-field__input font_style-edit-card_basic-textfield" value="@event.url.getOrElse("")" name="@name">
                            }
                            <label class="mdc-text-field__label font_style-edit-card_basic-textfield" for="url-text-field">
                                Url</label>
                            <div class="mdc-text-field__bottom-line"></div>
                        </div>
                    </div>

                        <!-- Tel -->
                    <div class="tel-textfield-container">
                        <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                        @input(createEventForm("tel")) { (id, name, value, args) =>
                            <input type="text" id="tel-text-field" class="mdc-text-field__input font_style-edit-card_basic-textfield" value="@event.tel.getOrElse("")" name="@name">
                        }   <label class="mdc-text-field__label font_style-edit-card_basic-textfield" for="tel-text-field">
                                TelephoneNumber</label>
                            <div class="mdc-text-field__bottom-line"></div>
                        </div>
                    </div>

                        <!-- MailAddress -->
                    <div class="mail-textfield-container">
                        <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                        @input(createEventForm("mail")) { (id, name, value, args) =>
                            <input type="text" id="mail-text-field" class="mdc-text-field__input font_style-edit-card_basic-textfield" value="@event.mail.getOrElse("")" name="@name">
                        }  <label class="mdc-text-field__label font_style-edit-card_basic-textfield" for="mail-text-field">
                                MailAddress</label>
                            <div class="mdc-text-field__bottom-line"></div>
                        </div>
                    </div>


                        <!-- Spending Time -->
                    <div class="spendtime-textfield-container">
                        <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                            <input type="text" id="spending-time-text-field" class="mdc-text-field__input font_style-edit-card_basic-textfield">
                            <label class="mdc-text-field__label font_style-edit-card_basic-textfield" for="spending-time-text-field">
                                Spending Time</label>
                            <div class="mdc-text-field__bottom-line"></div>
                        </div>
                    </div>

                        <!-- Wanted Persons -->
                    <div class="wantpersns-textfield-container">
                        <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                            <input type="text" id="wanted-persons-text-field" class="mdc-text-field__input font_style-edit-card_basic-textfield">
                            <label class="mdc-text-field__label font_style-edit-card_basic-textfield" for="wanted-persons-text-field">
                                Wanted Persons</label>
                            <div class="mdc-text-field__bottom-line"></div>
                        </div>
                    </div>

                        <!-- Category -->
                    <div class="category-selector-container">
                        <div class="mdc-select" role="listbox" data-mdc-auto-init="MDCSelect">
                            <div class="mdc-select__surface" tabindex="0">
                                <div class="mdc-select__label font_style-edit-card_basic-selector">Category</div>
                                <div class="mdc-select__selected-text"></div>
                                <div class="mdc-select__bottom-line"></div>
                            </div>
                            <div class="mdc-simple-menu mdc-select__menu">
                                <ul class="mdc-list mdc-simple-menu__items">
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Sports</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Workshop</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Food</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Volunteer</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Bargain</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Music</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Art</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        other</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Bargain</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Music</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                        <!-- Target -->
                    <div class="target-selector-container">
                        <div class="mdc-select" role="listbox" data-mdc-auto-init="MDCSelect">
                            <div class="mdc-select__surface" tabindex="0">
                                <div class="mdc-select__label font_style-edit-card_basic-selector">Targets</div>
                                <div class="mdc-select__selected-text"></div>
                                <div class="mdc-select__bottom-line"></div>
                            </div>
                            <div class="mdc-simple-menu mdc-select__menu">
                                <ul class="mdc-list mdc-simple-menu__items">
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Couple</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Child</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Men</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Women</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Business Man</li>
                                    <li class="mdc-list-item font_style-edit-card_basic-selector" role="option" tabindex="0">
                                        Homeworker</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel" id="panel-2" role="tabpanel" aria-hidden="true">
                    <div class="date-list-container">
                        <ul class="mdc-list">

                            @for(schedule <- event.schedules) {
                                <li class="mdc-list-item font_style-edit-card_basic-textfield">
                                    <div class="icons mdc-theme--secondary-light-bg">count</div>
                                    <div class="date-list-item">
                                            <!-- Start Date -->
                                        <div class="start-date-textfield-container">
                                            <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                                            @input(createEventForm("schedules[0].upcomingDate.startDate")) { (id, name, value, args) =>
                                                <input type="text" id="start-date-text-field" class="mdc-text-field__input font_style-edit-card_basic-textfield" value="@schedule.upcomingDate.startDate.toString("yyyy-MM-dd HH:mm")" name="@name">
                                            }    <label class="mdc-text-field__label font_style-edit-card_basic-textfield" id="start-date-text-field-label"
                                                for="start-date-text-field">Start Date*</label>
                                                <div class="mdc-text-field__bottom-line"></div>
                                            </div>
                                        </div>
                                            <!-- End Date -->
                                        <div class="end-date-textfield-container">
                                            <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                                            @input(createEventForm("schedules[0].upcomingDate.endDate")) { (id, name, value, args) =>
                                                <input type="text" id="end-date-text-field2" class="mdc-text-field__input font_style-edit-card_basic-textfield" value="@schedule.upcomingDate.endDate.toString("yyyy-MM-dd HH:mm")" name="@name">
                                            }    <label class="mdc-text-field__label font_style-edit-card_basic-textfield" id="end-date-text-field-label"
                                                for="end-date-text-field">End Date*</label>
                                                <div class="mdc-text-field__bottom-line"></div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            }
                        </ul>
                    </div>
                    <div class="map-container">
                            <!-- Postal Code -->
                        <div class="postal-code-textfield-container">
                            <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                                <input type="text" id="postal-code-text-field" class="mdc-text-field__input font_style-edit-card_basic-textfield">
                                <label class="mdc-text-field__label font_style-edit-card_basic-textfield" id="postal-code-text-field-label"
                                for="postal-code-text-field">Postal Code*</label>
                                <div class="mdc-text-field__bottom-line"></div>
                            </div>
                        </div>
                        <div class="address-search-button-container">
                            <button class="mdc-button font_style-edit-card_basic-textfield">
                                <i></i>
                                Search
                            </button>
                        </div>
                            <!-- Address -->
                        <div class="address-textfield-container">
                            <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                            @input(createEventForm("schedules[0].location.name")) { (id, name, value, args) =>
                                <input type="text" id="address-text-field" class="mdc-text-field__input font_style-edit-card_basic-textfield" value="@event.schedules.head.location.name" name="@name">
                            }  <label class="mdc-text-field__label font_style-edit-card_basic-textfield" id="address-text-field-label"
                                for="address-text-field">Address*</label>
                                <div class="mdc-text-field__bottom-line"></div>
                            </div>
                        </div>
                        <div id="map">
                        </div>
                    </div>
                </div>

                <div class="panel" id="panel-3" role="tabpanel" aria-hidden="true">
                    <div class="image-choose-container" >
                        <image class="image-choose" src="@event.image">
                            <div class="image-asset"></div>
                            <div class="msg font_style-edit-card_basic-textfield">クリックで画像を追加</div>
                        </image>
                    </div>

                </div>
                <!-- optional settings -->
                @*<input type="hidden" name="files[0]"*@
                <input type="hidden" name="image" id="image" value="">
                <input type="hidden" name="id" value="@event.id">
                <input type="hidden" name="schedules[0].location.lat" id="schedules.location.lat" value="12.02154">
                <input type="hidden" name="schedules[0].location.lng" id="schedules.location.lng" value="10.05014">
                <input type="hidden" name="noticeRange" value="500"/>
                <input type="hidden" name="openFlg" value="false"/>
                <input type="hidden" name="scope" value="public"/>

            </div>
            <div class="dots">
                <a class="dot active" data-trigger="panel-1" href="#panel-1"></a>
                <a class="dot" data-trigger="panel-2" href="#panel-2"></a>
                <a class="dot" data-trigger="panel-3" href="#panel-3"></a>
            </div>
        }
            <form id="image-up-form" action="/file/upload" enctype="multipart/form-data" method="post">
                <input type="file" name="userfile" accept="image/*" id="fileup">
            </form>

        </section>
        <section class="mdc-card__actions">
            <button id="save-button" class="mdc-button mdc-button--raised mdc-card__action mdc-theme--secondary-bg font_style-edit-card_basic-textfield">
                保存する</button>
            <button id="cancel-button" class="mdc-button  mdc-card__action font_style-edit-card_basic-textfield">キャンセル</button>
        </section>
    </div>
</div>